<div class="container"
  fxLayout="column"
  fxLayoutGap="10px">

  <div fxFlex>
    <div>
        <h3>Contact Us</h3>
        <hr>
    </div>
  </div>

  <div fxFlex>
    <h3>Location Information</h3> 
    <div fxLayout="column" fxLayout.gt-sm="row">
      <div fxFlex="50" fxFlexOffset="20px">
        <h4>Our Address</h4>
        <address>
          121, Clear Water Bay Road<br>
          Clear Water Bay, Kowloon<br>
          HONG KONG<br>
          <i class="fa fa-phone"></i>: +852 1234 5678<br>
          <i class="fa fa-fax"></i>: +852 8765 4321<br>
          <i class="fa fa-envelope"></i>: 
                <a href="mailto:confusion@food.net">confusion@food.net</a>
        </address>
        <p></p>
        <div>
          <a mat-raised-button href="tel:+85212345678"><i class="fa fa-phone"></i> Call</a>
          <a mat-raised-button><i class="fa fa-skype"></i> Skype</a>
          <a mat-raised-button href="mailto:confusion@food.net"><i class="fa fa-envelope-o"></i> Email</a>
        </div>
        </div>
      <div fxFlex="40">
        <h4>Map of our Location</h4>
      </div>
    </div>
  </div>

  <div fxFlex fxFlexOffset="20px" class="form-size" 
      fxLayout="column"
      fxLayoutAlign="none start"
      fxLayoutGap="10px" 
  >
      <h3> Send us your feedback</h3>
      <form novalidate [formGroup]="feedbackForm" #fform ="ngForm" (ngSubmit)="onSubmit()" *ngIf="dataReady && !(feedback)" style="width:100%;" [@expand]>
          <p>
              <mat-form-field   class = "half-width">
                  <input matInput formControlName="firstname" placeholder="First Name" name="firstname" type="text" >
                  <mat-error *ngIf="formErrors.firstname">
                    {{formErrors.firstname}}
                  </mat-error>
              </mat-form-field>
              <mat-form-field   class = "half-width">
                  <input matInput formControlName="lastname" placeholder="Last Name" name="lastname" type="text" >
                  <mat-error *ngIf="formErrors.lastname">
                    {{formErrors.lastname}}
                  </mat-error>
              </mat-form-field>
          </p>
          <p>
              <mat-form-field   class = "half-width">
                  <input matInput formControlName="telnum" placeholder="Tel. Num" name="telnum" type="tel"  pattern="[0-9]*">
                  <mat-error *ngIf="formErrors.telnum">
                    {{formErrors.telnum}}
                  </mat-error>
              </mat-form-field>
              <mat-form-field   class = "half-width">
                  <input matInput formControlName="email" placeholder="Email" name="lastname" type="email" >
                  <mat-error *ngIf="formErrors.email">
                    {{formErrors.email}}
                  </mat-error>
              </mat-form-field>
          </p>
          <table class="form-size">
            <td>
                <mat-slide-toggle formControlName="agree">May we contact you?</mat-slide-toggle>
            </td>
            <td>
                <mat-select placeholder="How?" formControlName="contacttype">
                    <mat-option *ngFor="let ctype of contactType">
                        {{ctype}}
                    </mat-option>
                </mat-select>
            </td>
          </table>
          <p>
              <mat-form-field   class = "full-width">
                  <textarea matInput formControlName="message" placeholder="Your Feedback" name="message"  rows="12"></textarea>
              </mat-form-field>
          </p>
          <button mat-button type="submit" class="background-primary text-floral-white" [disabled]="feedbackForm.invalid">Submit</button>
      </form>
      
      <div *ngIf=" dataReady && feedback" [@expand]>
        
          <div 
                fxLayout="column"
                fxLayoutAlign="none start"
                fxLayoutGap="0px" 
           >
              
             <h3> Your Submission</h3>
                  <div >
                    <p matLine > 
                        First Name : {{feedback.firstname}}
                    </p>  
                </div>
                <div >
                  <p matLine > 
                      Last Name : {{feedback.lastname}}
                  </p>  
              </div>
              <div >
                <p matLine > 
                    Tel. Num. : {{feedback.telnum}}
                </p>  
              </div>
              <div >
                <p matLine > 
                    Email : {{feedback.email}}
                </p>  
              </div>
              <div >
                <p matLine>
                    Contact You? : {{feedback.agree}}
                </p>  
              </div>
              <div >
                <p matLine> 
                    How? : {{feedback.contacttype}}
                </p>  
              </div>
              <div >
                <p matLine> 
                    Feedback : {{feedback.message}}
                </p>  
              </div>
        </div>
      </div>
      
        <div fxFlex *ngIf=" ! (dataReady || errMsg)">
          <h4>Submitting Form</h4>
          <mat-spinner>
        
          </mat-spinner>
        </div>
        
      <div fxFlex *ngIf="errMsg">
        <h2>Error</h2>
        <h4>{{errMsg}}</h4>
      </div>
  </div>
</div>